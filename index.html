
<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"><title>SSSnake</title><style>body{padding-top:20px;margin-top:0;text-align:center;background-color:#5f9ea0;overflow:hidden}canvas{border:5px solid #000;box-shadow:0 0 10px gray}span{margin:20px;font-weight:bolder;float:left}div{display:none}@media screen and (max-width:600px){body{height:750}#stop{padding-left:25px}canvas{width:300px;height:380px}div{display:block;margin-top:15px}button{width:70px;height:70px;border:5px solid #000;border-radius:15px;outline:0}#btn1,#btn2{margin:auto}#btn3,#btn4{margin:8px;margin-left:35px;margin-right:35px}}</style></head><body onload="draw()"><span id="stop">STOP</span> <span id="restart">RESTART</span> <span id="score"></span><canvas id="canvas" width="800" height="600">ä½ çš„æµè§ˆå™¨éœ€è¦æ›´æ–°~</canvas><div><button id="btn1">ğŸ‘†</button><br><button id="btn3">ğŸ‘ˆ</button> <button id="btn4">ğŸ‘‰</button><br><button id="btn2">ğŸ‘‡</button></div><script>function draw(){var n=document.getElementById("canvas");if(n.getContext){var i,r,t=n.getContext("2d"),h=!1,e="RUN",a=0,o=document.getElementById("score");o.innerHTML="SCORE: "+a;a=0;var d=document.getElementById("btn1"),c=document.getElementById("btn2"),s=document.getElementById("btn3"),l=document.getElementById("btn4"),u=document.getElementById("stop"),y=document.getElementById("restart");function w(t,e,i,h,n){this.x=t,this.y=e,this.width=i,this.height=h,this.color=n}function f(){this.head=new w(n.width/2-20,n.height/2-20,20,20,"red"),this.body=new Array;for(var t=this.head.x-20,e=this.head.y,i=0;i<3;i++){var h=new w(t,e,20,20,"black");this.body.push(h),t-=20}this.direction=2,r="R"}w.prototype.rDraw=function(){t.beginPath(),t.fillStyle=this.color,t.fillRect(this.x,this.y,this.width,this.height),t.strokeRect(this.x,this.y,this.width,this.height)},f.prototype.sDraw=function(){this.head.rDraw();for(var t=0;t<this.body.length;t++)this.body[t].rDraw()};var g=new f;g.sDraw();var m=k();function v(){t.clearRect(0,0,n.width,n.height),m.rDraw(),g.move(),g.sDraw(),b(g.head,m)&&(h=!0,m=k(),a+=1,o.innerHTML="SCORE: "+a)}f.prototype.move=function(){var t=new w(this.head.x,this.head.y,this.head.width,this.head.height,"black");switch(this.body.splice(0,0,t),0==h?this.body.pop():h=!1,this.direction){case 0:this.head.x-=this.head.width,r="L";break;case 1:this.head.y-=this.head.height,r="U";break;case 2:this.head.x+=this.head.width,r="R";break;case 3:this.head.y+=this.head.height,r="D"}(this.head.x>=n.width||this.head.x<0||this.head.y>=n.height||this.head.y<0)&&(clearInterval(i),i=null,alert("Game over:D"));for(var e=0;e<this.body.length;e++)b(this.head,this.body[e])&&(clearInterval(i),i=null,alert("Game over:D"))};function b(t,e){var i=t.x,h=e.x,n=t.y,r=e.y,a=t.x+t.width,o=e.x+e.width,d=t.y+t.height,c=e.y+e.height,s=Math.max(i,h),l=Math.max(n,r),u=Math.min(a,o),y=Math.min(d,c);return s<u&&l<y}function k(){for(var t=!0;t;){var e=new w(40*x(0,(n.width-40)/40),40*x(0,(n.height-40)/40),20,20,"green");b(g.head,e)&&(t=!0,contiue),t=!1;for(var i=0;i<g.body.length;i++)if(b(g.body[i],e)){t=!0;break}}return e}function x(t,e){return Math.round(Math.random()*(e-t)+t)}i=setInterval(v,200),document.onkeydown=function(t){switch((t=t||windw.event).keyCode){case 37:if("R"==r)return!1;g.direction=0;break;case 38:if("D"==r)return!1;g.direction=1;break;case 39:if("L"==r)return!1;g.direction=2;break;case 40:if("U"==r)return!1;g.direction=3}},d.onclick=function(){return"D"!=r&&(g.direction=1),!1},c.onclick=function(){return"U"!=r&&(g.direction=3),!1},s.onclick=function(){return"R"!=r&&(g.direction=0),!1},l.onclick=function(){return"L"!=r&&(g.direction=2),!1},u.onclick=function(){"RUN"==e&&(clearInterval(i),e="STOP")},y.onclick=function(){"STOP"==e&&(i=setInterval(v,200),e="RUN")}}}</script></body></html>
